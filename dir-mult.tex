\section{Dirichlet-multinomial model}
\subsection{Summary}
\paragraph{The model}
    \begin{align}
        \vec N      &\sim \Mult(N, \vec\theta) \in \mathbb R^K \\
        \mathcal D  &= \{\vec n = \text{vector of counts of successes}\} \\
        N           &= \sum_{i = 1}^K n_i \\
        \mathcal D' &= \{\vec n' = \text{vector of counts of successes in a new batch of data}\} \\
        N'          &= \sum_{i = 1}^K n'_i
    \end{align}

\paragraph{Likelihood}
    \begin{equation}
        p(\mathcal D | \theta) = \Mult(\vec n; N, \vec\theta)
    \end{equation}

\paragraph{Prior}
    \begin{equation}
        p(\theta)   = \Dir(\vec\theta; \vec\alpha)
    \end{equation}

\paragraph{Posterior}
    \begin{equation}
        p(\theta | \mathcal D) = \Dir(\vec\theta; \alpha_1 + n_1, \dotsc, \alpha_K + n_K)
    \end{equation}

\paragraph{Posterior predictive}
    \begin{align}
        p(\mathcal D' | \mathcal D) &= \frac{\Gamma(\alpha_0 + N)}{\Gamma(\alpha_0 + N + N')} \prod_{k = 1}^K \frac{\Gamma(\alpha_k + n_k + n'_k)}{\Gamma(\alpha_k + n_k)} \\
        \text{where } \alpha_0 &= \sum_{k = 1}^K \alpha_k
    \end{align}

\paragraph{Evidence}
    \begin{equation}
        p(\mathcal D | \vec\alpha) = \frac{\Gamma(\alpha_0)}{\Gamma(\alpha_0 + N)} \prod_{k = 1}^K \frac{\Gamma(\alpha_k + n_k)}{\Gamma(\alpha_k)}
    \end{equation}

\subsection{Derivations}